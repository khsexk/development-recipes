# 개략적 규모 추정

- 시스템 용량이나 성능 요구사항을 개략적으로 추정해 보라는 요구를 종종 받게 됨
- 보편적으로 토용되는 성능 수치상에서 `사고 실험`을 행하여 `추정치를 계산`해야 함

## I. 2의 제곱수

- 최소단위: 1byte = 8bit
- ASCII 문자 하나는 1byte

| 2의 n제곱 | 근사치  | 이름      | 축약형 |
| --------- | ------- | --------- | ------ |
| 10        | 1천     | 1Kilobyte | 1KB    |
| 20        | 1백만   | 1Megabyte | 1MB    |
| 30        | 10억    | 1Gigabyte | 1GB    |
| 40        | 1조     | 1Terabyte | 1TB    |
| 50        | 1,000조 | 1Petabyte | 1PB    |

## II. 모든 프래그래머가 알아야 하는 응답지연 값

| 연산명                                                  | 시간                              |
| ------------------------------------------------------- | --------------------------------- |
| L1 캐시 참조                                            | 0.5ns                             |
| 분기 예측 오류                                          | 5ns                               |
| L2 캐시 참조                                            | 7ns                               |
| Mutex Lock/Unlock                                       | 100ns                             |
| 메인 메모리 참조                                        | 100ns                             |
| Zippy로 1KB 압축                                        | 10,000ns = 10μs                   |
| 1Gbps 네트워크로 2KB 패킷 전송                          | 20,000ns = 20μs                   |
| 메모리에서 1MB 순차적으로 읽기                          | 250,000ns = 250μs                 |
| 같은 데이터 센터 내 메시지 왕복 지연시간                | 500,000ns = 500μs                 |
| 디스크 탐색                                             | 10,000,000ns = 10000μs = 10ms     |
| 네트워크에서 1MB 순차적으로 읽기                        | 10,000,000ns = 10000μs = 10ms     |
| 디스크에서 1MB 순차적으로 읽기                          | 30,000,000ns = 30000μs = 30ms     |
| 한 패킷의 캘리포니아로부터 네덜란드까지의 왕복 지연시간 | 150,000,000ns = 150,000μs = 150ms |

- 메모리는 빠르지만, 디스크는 느림
- 디스크 탐색은 가능한 피하자
- 단순한 압축 알고리즘을 빠름
- 데이터를 인터넷으로 전송하기 전에 가능한 압축하자
- 데이터 센터는 보통 여러 지역에 분산돼 있고, 센터들 간에 데이터를 주고 받는데는 시간이 걸림
