# VPC Peering

: 두 개의 VPC를 연결하여, `서로 다른 VPC` 간에 `트래픽`을 전송할 수 있도록 하는 서비스

- VPC 간 1:1 연결 방식 제공
- 동일한 계정 또는 다른 계정에 있는 VPC 간 비공개 연결
- private IP 사용
- 동일 리전뿐 아니라 서로 다른 리전 연결도 가능
- CIDR이 중복되면 안됨
- 다중 피어링 관계 불가능
- 고가용성 연결 제공

## VPC Peering 구성

1. 요청자가 수신자에게 VPC 피어링 요청
2. 수신자가 요청을 수락
3. VPC 피어링 연결에 대한 `DNS 확인` 설정
4. `라우팅 테이블` 설정
5. 피어링 연결 완료

### DNS 확인 설정

- 피어 VPC의 인스턴스가 쿼리를 보낼 때, VPC가 퍼블릭 `IPv4 DNS 호스트 이름`을 `프라이빗 IPv4 주소`로 확인하기 위함

### 라우팅 테이블 설정

- 두 VPC가 서로의 프라이빗 IP 주소로 `트래픽 통신`할 수 있도록 라우팅 테이블 설정

## DGW, TGW와 비교

| 특징      | VPC Peering        | Direct Connect Gateway (DGW) | Transit Gateway (TGW)  |
|---------|--------------------|------------------------------|------------------------|
| **용도**  | 두 VPC 간 직접 연결      | 온프레미스와 여러 VPC 연결             | 다수의 VPC, 온프레미스, VPN 연결 |
| **확장성** | 제한적, 연결이 많아지면 복잡해짐 | Direct Connect 연결 중심         | 뛰어난 확장성, 네트워크 관리 용이    |
| **보안**  | 직접 연결로 간단한 보안 설정   | Direct Connect로 안정적 보안 제공    | 중앙 집중식 보안 정책 관리에 유리    |
| **비용**  | 상대적으로 저렴           | 데이터 전송 비용 발생                 | 유연한 비용 구조, 다양한 네트워크 연결 |
